# Overview

> Legacy reference only. Superseded by the consolidated docs set in `docs/README.md`, especially `01-product-overview.md` through `07-implementation-roadmap.md`.

Yes — it's absolutely possible to build this with LLMs, and teams are already building pieces of it (AI DM apps, VTT add-ons, voice + SFX stacks). The "hard part" isn't whether an LLM can narrate; it's engineering a reliable game system around it: rules correctness, memory/state, retrieval from books, multiplayer sync, and cost/latency.

Here's what a realistic architecture looks like.

---

## 1) Core idea: LLM as "director," not the whole engine

You'll get much better results if the LLM does narration + intent, while deterministic code handles:

- dice rolls, modifiers, conditions
- turn order, actions, resource usage
- character sheets and leveling
- rule validation ("is this action legal?")

**Think:** game engine is authoritative, LLM is the DM voice/brain that calls tools.

---

## 2) "Any campaign world" via PDF knowledge (RAG)

You can ingest PDFs into a searchable knowledge base and let the DM retrieve relevant passages on demand (Retrieval Augmented Generation, aka RAG).

**Typical pipeline:**

1. Parse PDFs (text + tables; sometimes images need OCR)
2. Chunk into sections (chapters, headings, stat blocks)
3. Create embeddings and store in a vector DB
4. At runtime: retrieve top-k chunks based on the current scene/question
5. Feed the retrieved text into the DM prompt with citations/anchors

**Important:** if you mean official D&D books, you must respect copyright/licensing. Practically, you can:

- support user-owned PDFs locally (private ingestion),
- or use open SRD content / licensed content,
- but you generally can't ship a hosted product that includes copyrighted book text without permission.

---

## 3) Selectable D&D editions (rules packs)

Make "edition" a pluggable rules module:

- **Rules data model:** actions, skills, conditions, spells, items, monsters, DC logic
- **Resolver:** "given current state + attempted action → allowed? roll formula? outcomes?"
- **Content pack per edition** (5e/2024, 3.5, etc.)

The LLM should never "remember" rules—your rules engine should.

---

## 4) Memory that actually works (campaign save system)

Use a layered memory model:

- **Authoritative state (database):** characters, inventories, HP, quests, NPC relationships, locations, time, initiative, encounter state
- **Session log (append-only):** all player inputs + DM outputs
- **Summaries (LLM-generated):** per scene + per session summary for fast context
- **Facts / lore graph:** extracted entities and relationships (NPC A hates faction B, owes gold to player C)

This is how you can save/restore exactly where you left off without blowing context windows.

---

## 5) Visual generation (maps, NPCs, scenery)

Totally doable:

- Image generation for "scene art", NPC portraits, items, taverns, landscapes
- Map generation (battlemap style) can be done with image gen or procedural tools

**Key trick:** keep a style bible (seed prompts, palettes, camera angles) so images stay consistent across a campaign.

---

## 6) Voices + sound effects

Two main parts:

- **Narration / NPC voices:** Text-to-speech (TTS) + optional real-time speech-to-speech for live DM. OpenAI has both classic TTS and low-latency realtime audio options.
- **Sound effects / ambience:** services like ElevenLabs provide APIs for voice and also sound effects generation.

You'll want:

- per-NPC voice profiles (accent, tone, pace)
- SFX triggers from game events (attack hits, crits, door creaks, tavern loop)

---

## 7) Multiplayer (many players at same time)

Feasible, but you need real-time infrastructure:

- authoritative server (Node/.NET/etc.)
- WebSockets (or WebRTC for voice)
- shared state + conflict resolution
- permissions (who can see what, fog-of-war)

---

## 8) UI/UX: narrative-first, but structured

Best pattern is a "narrative chat" with structured panels:

- **center:** story feed + player inputs
- **right:** character sheets, inventory, spells, conditions
- **left:** location/map, quests, NPC index, session notes
- **bottom:** action shortcuts (Attack, Cast, Persuade, Search…) but also free text

This gives the freedom of tabletop with guardrails for rules correctness.

---

## 9) What makes this hard in practice

The main engineering risks:

- **hallucinated rules** → solved by tool-calling + rules engine
- **context bloat** → solved by summaries + state DB + retrieval
- **PDF parsing quality** (tables/stat blocks) → needs careful chunking and structure
- **cost/latency** → caching, smaller models for routine tasks, batching, streaming audio
- **safety & content controls** (esp. user-generated worlds)

---

## A realistic MVP path (so you can ship)

1. Text-only DM + dice + character sheets (single-player)
2. Add RAG from PDFs (world lore + rules references)
3. Add multiplayer + saves
4. Add portraits + scene images
5. Add TTS narrator + NPC voices + basic ambience
